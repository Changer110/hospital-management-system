<!DOCTYPE html>
<html>
<head>
  <title>Prescription Information</title>
  <link rel="stylesheet" href="static/css/prescription.css">
</head>
<body>
  <div class="prescription-container">
    <h1 class="prescription-title">Prescription Information</h1>

    <div class="button-container">
        <a href="{% url 'add_prescription' record %}" class="add-prescription-button">Add prescription</a>
        <a href="{% url 'back_to_medical_record' record %}" class="back-to-medical-record-button">Back to Medical Record</a>
    </div>

    <ul class="prescription-details">
      <table>
        <thead>
          <th>Drug Name</th>
          <th>Dosage</th>
          <th></th>
          <th></th>
        </thead>
        {% for prescription in prescriptions %}
        <tbody>
          <td>{{ prescription.drug_name.name }}</td>
          <td>{{ prescription.dosage }}</td>
          <td><a href="{% url 'delete_prescription' prescription.pk %}">Delete</a></td>
          <td><a href="{% url 'change_prescription' prescription.pk %}">Change</a></td>
        </tbody>
        {% empty %}
          <tr>
            <td colspan="4">No prescriptions found.</td>
          </tr>
        {% endfor %}
      </table>
    </ul>
  </div>
  <script>
    // Style the "Add prescription" button
    const addPrescriptionButton = document.querySelector('.add-prescription-button');
    addPrescriptionButton.style.display = 'inline-block';
    addPrescriptionButton.style.padding = '8px 16px';
    addPrescriptionButton.style.backgroundColor = '#4CAF50';
    addPrescriptionButton.style.color = 'white';
    addPrescriptionButton.style.textDecoration = 'none';
    addPrescriptionButton.style.borderRadius = '4px';
  
    // Style the "Delete" and "Change" buttons
    const deleteButtons = document.querySelectorAll('.prescription-details a[href*="delete_prescription"]');
    deleteButtons.forEach(button => {
      button.style.display = 'inline-block';
      button.style.padding = '4px 8px';
      button.style.backgroundColor = '#f44336';
      button.style.color = 'white';
      button.style.textDecoration = 'none';
      button.style.borderRadius = '4px';
  
      // Emphasize "Prescription" on the button
      const buttonInnerHTML = button.innerHTML;
      button.innerHTML = buttonInnerHTML.replace('prescription', '<strong>prescription</strong>');
    });
  
    const changeButtons = document.querySelectorAll('.prescription-details a[href*="change_prescription"]');
    changeButtons.forEach(button => {
      button.style.display = 'inline-block';
      button.style.padding = '4px 8px';
      button.style.backgroundColor = '#2196F3';
      button.style.color = 'white';
      button.style.textDecoration = 'none';
      button.style.borderRadius = '4px';
  
      // Emphasize "Prescription" on the button
      const buttonInnerHTML = button.innerHTML;
      button.innerHTML = buttonInnerHTML.replace('prescription', '<strong>prescription</strong>');
    });
  </script>
</body>
</html>