<!DOCTYPE html>
<html>
<head>
  <title>Prescription Information</title>
  <link rel="stylesheet" href="static/css/prescription.css">
</head>
<body>
  <div class="prescription-container">
    <h1 class="prescription-title">Prescription Information</h1>

    <div class="button-container">
        <a href="{% url 'add_prescription' record %}" class="add-prescription-button">Add Prescription</a>
        <a href="{% url 'back_to_medical_record' record %}" class="back-to-medical-record-button">Back to Medical Record</a>
    </div>

    <table class="prescription-details">
      <thead>
        <tr>
          <th>Drug Name</th>
          <th>Dosage</th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% for prescription in prescriptions %}
        <tr>
          <td>{{ prescription.drug_name.name }}</td>
          <td>{{ prescription.dosage }}</td>
          <td><a href="{% url 'delete_prescription' prescription.pk %}" class="delete-button">Delete</a></td>
          <td><a href="{% url 'change_prescription' prescription.pk %}" class="change-button">Change</a></td>
          <td><a href="{% url 'download_prescription' prescription.pk %}" class="delete-button">Download</a></td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="4">No prescriptions found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <script>
    // Style the "Add Prescription" button
    const addPrescriptionButton = document.querySelector('.add-prescription-button');
    addPrescriptionButton.style.display = 'inline-block';
    addPrescriptionButton.style.padding = '8px 16px';
    addPrescriptionButton.style.backgroundColor = '#4CAF50';
    addPrescriptionButton.style.color = 'white';
    addPrescriptionButton.style.textDecoration = 'none';
    addPrescriptionButton.style.borderRadius = '4px';

    // Style the "Back to Medical Record" button
    const backToMedicalRecordButton = document.querySelector('.back-to-medical-record-button');
    backToMedicalRecordButton.style.display = 'inline-block';
    backToMedicalRecordButton.style.padding = '8px 16px';
    backToMedicalRecordButton.style.backgroundColor = '#2196F3';
    backToMedicalRecordButton.style.color = 'white';
    backToMedicalRecordButton.style.textDecoration = 'none';
    backToMedicalRecordButton.style.borderRadius = '4px';

    // Style the table
    const prescriptionTable = document.querySelector('.prescription-details');
    prescriptionTable.style.width = '100%';
    prescriptionTable.style.borderCollapse = 'collapse';
    prescriptionTable.style.marginBottom = '20px';

    const tableHeaders = prescriptionTable.querySelectorAll('th');
    tableHeaders.forEach(header => {
      header.style.padding = '8px';
      header.style.textAlign = 'left';
      header.style.borderBottom = '1px solid #ddd';
      header.style.backgroundColor = '#f2f2f2';
    });

    const tableRows = prescriptionTable.querySelectorAll('td');
    tableRows.forEach(row => {
      row.style.padding = '8px';
      row.style.textAlign = 'left';
      row.style.borderBottom = '1px solid #ddd';
    });

    // Style the "Delete" button
    const deleteButtons = document.querySelectorAll('.delete-button');
    deleteButtons.forEach(button => {
      button.style.backgroundColor = '#f44336';
      button.style.color = 'white';
      button.style.textDecoration = 'none';
      button.style.borderRadius = '4px';
      button.style.padding = '8px 16px';
    });

    // Style the "Change" button
    const changeButtons = document.querySelectorAll('.change-button');
    changeButtons.forEach(button => {
      button.style.backgroundColor = '#2196F3';
      button.style.color = 'white';
      button.style.textDecoration = 'none';
      button.style.borderRadius = '4px';
      button.style.padding = '8px 16px';
    });
  </script>
</body>
</html>